<!DOCTYPE html>
<html lang="en">
    <!-- title -->


    

<!-- keywords -->



<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="author" content="枳暮">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="枳暮">
    
        <meta name="keywords" content="hexo,hexo-theme,hexo-blog">
    
    <meta name="description" content="">
    <meta name="description" content="Kubernetes, also known as K8s, is an open-source system for automating deployment, scaling, and management of containerized applications. It groups containers that make up an application into logical">
<meta property="og:type" content="article">
<meta property="og:title" content="Kubernetes">
<meta property="og:url" content="https://maplepoet.github.io/hexo/2024/03/07/Kubernetes/index.html">
<meta property="og:site_name" content="枳暮">
<meta property="og:description" content="Kubernetes, also known as K8s, is an open-source system for automating deployment, scaling, and management of containerized applications. It groups containers that make up an application into logical">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2024-03-07T13:38:58.000Z">
<meta property="article:modified_time" content="2024-05-22T15:49:20.379Z">
<meta property="article:author" content="枳暮">
<meta name="twitter:card" content="summary">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <link rel="icon" href="/hexo/assets/favicon.ico">
    
    <title>Kubernetes · 枳暮&#39;s Blog</title>
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
    (function (w) {
        'use strict'
        // rel=preload support test
        if (!w.loadCSS) {
            w.loadCSS = function () {}
        }
        // define on the loadCSS obj
        var rp = (loadCSS.relpreload = {})
        // rel=preload feature support test
        // runs once and returns a function for compat purposes
        rp.support = (function () {
            var ret
            try {
                ret = w.document.createElement('link').relList.supports('preload')
            } catch (e) {
                ret = false
            }
            return function () {
                return ret
            }
        })()

        // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
        // then change that media back to its intended value on load
        rp.bindMediaToggle = function (link) {
            // remember existing media attr for ultimate state, or default to 'all'
            var finalMedia = link.media || 'all'

            function enableStylesheet() {
                link.media = finalMedia
            }

            // bind load handlers to enable media
            if (link.addEventListener) {
                link.addEventListener('load', enableStylesheet)
            } else if (link.attachEvent) {
                link.attachEvent('onload', enableStylesheet)
            }

            // Set rel and non-applicable media type to start an async request
            // note: timeout allows this to happen async to let rendering continue in IE
            setTimeout(function () {
                link.rel = 'stylesheet'
                link.media = 'only x'
            })
            // also enable media after 3 seconds,
            // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
            setTimeout(enableStylesheet, 3000)
        }

        // loop through link elements in DOM
        rp.poly = function () {
            // double check this to prevent external calls from running
            if (rp.support()) {
                return
            }
            var links = w.document.getElementsByTagName('link')
            for (var i = 0; i < links.length; i++) {
                var link = links[i]
                // qualify links to those with rel=preload and as=style attrs
                if (
                    link.rel === 'preload' &&
                    link.getAttribute('as') === 'style' &&
                    !link.getAttribute('data-loadcss')
                ) {
                    // prevent rerunning on link
                    link.setAttribute('data-loadcss', true)
                    // bind listeners to toggle media back
                    rp.bindMediaToggle(link)
                }
            }
        }

        // if unsupported, run the polyfill
        if (!rp.support()) {
            // run once at least
            rp.poly()

            // rerun poly on an interval until onload
            var run = w.setInterval(rp.poly, 500)
            if (w.addEventListener) {
                w.addEventListener('load', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            } else if (w.attachEvent) {
                w.attachEvent('onload', function () {
                    rp.poly()
                    w.clearInterval(run)
                })
            }
        }

        // commonjs
        if (typeof exports !== 'undefined') {
            exports.loadCSS = loadCSS
        } else {
            w.loadCSS = loadCSS
        }
    })(typeof global !== 'undefined' ? global : this)
</script>

    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/hexo/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }
</style>

    <link rel="preload" href="/hexo/css/style.css?v=20211217" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="/hexo/css/dark.css?v=20211217" as="style">
    <link rel="stylesheet" href="/hexo/css/dark.css">
    <link rel="stylesheet" href="/hexo/css/mobile.css?v=20211217" media="(max-width: 960px)">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" as="script">
    <link rel="preload" href="/hexo/scripts/main.js?v=20211217" as="script">
    <link rel="preload" href="/hexo/scripts/dark.js?v=20211217" as="script">
    <link rel="preload" href="/hexo/font/Oswald-Regular.ttf" as="font" crossorigin>
    <link rel="preload" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" as="font" crossorigin>
    <!-- algolia -->
    
    <!-- 百度统计  -->
    
    <!-- Google tag (gtag.js) -->
    

<meta name="generator" content="Hexo 5.4.2"></head>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ == undefined) {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/hexo/lib/jquery.min.js" />')
        }
    </script>
    
        <body class="post-body">
    
        <!-- header -->
        <header class="header header-mobile">
    <!-- top read progress line -->
    <div class="header-element">
        <div class="read-progress"></div>
    </div>
    <!-- sidebar menu button -->
    <div class="header-element">
        
            <div class="header-sidebar-menu">
        
            
                <div style="padding-left: 1px;">&#xe775;</div>
            
        </div>
    </div>
    <!-- header actions -->
    <div class="header-actions">
        <!-- theme mode switch button -->
        <span class="header-theme-btn header-element">
            <i class="fas fa-adjust"></i>
        </span>
        <!-- back to home page text -->
        <span class="home-link header-element">
            <a href=/hexo/>枳暮's Blog.</a>
        </span>
    </div>
    <!-- toggle banner for post layout -->
    
        
            <div class="banner">
        
            <div class="blog-title header-element">
                <a href="/hexo/">枳暮&#39;s Blog.</a>
            </div>
            <div class="post-title header-element">
                <a href="#" class="post-name">Kubernetes</a>
            </div>
        </div>
    
</header>

        <!-- fixed footer -->
        <footer class="footer-fixed">
    <!-- back to top button -->
    <div class="footer-fixed-element">
        
            <div class="back-top back-top-hidden">
        
        
            <div>&#xe639;</div>
        
        </div>
    </div>
</footer>

        <!-- wrapper -->
        <div class="wrapper">
            <div class="site-intro" style="







    height:50vh;

">
    
    <!-- 主页  -->
    
        
    <!-- 404页  -->
    
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/hexo/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
                Kubernetes
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
                
            <!-- 404 -->
            
        </p>
        <!-- 文章页 meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                    <div class= post-intro-tags >
    
    
</div>

                
                <!-- 文章字数统计 -->
                
                <div class="post-intro-meta">
                    <!-- 撰写日期 -->
                    <span class="iconfont-archer post-intro-calander">&#xe676;</span>
                    <span class="post-intro-time">2024/03/07</span>
                    <!-- busuanzi -->
                    
                        <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                            <span class="iconfont-archer post-intro-busuanzi">&#xe602;</span>
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    
                    <!-- 文章分享 -->
                    <span class="share-wrapper">
                        <span class="iconfont-archer share-icon">&#xe71d;</span>
                        <span class="share-text">Share</span>
                        <ul class="share-list">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>

            <script>
  // get user agent
  function getBrowserVersions() {
    var u = window.navigator.userAgent
    return {
      userAgent: u,
      trident: u.indexOf('Trident') > -1, //IE内核
      presto: u.indexOf('Presto') > -1, //opera内核
      webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
      gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
      mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
      ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
      android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
      iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
      iPad: u.indexOf('iPad') > -1, //是否为iPad
      webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
      weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
      uc: u.indexOf('UCBrowser') > -1, //是否为android下的UC浏览器
    }
  }
  var browser = {
    versions: getBrowserVersions(),
  }
  console.log('userAgent: ' + browser.versions.userAgent)

  // callback
  function fontLoaded() {
    console.log('font loaded')
    if (document.getElementsByClassName('site-intro-meta')) {
      document
        .getElementsByClassName('intro-title')[0]
        .classList.add('intro-fade-in')
      document
        .getElementsByClassName('intro-subtitle')[0]
        .classList.add('intro-fade-in')
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in')
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb() {
    if (browser.versions.uc) {
      console.log('UCBrowser')
      fontLoaded()
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular'],
        },
        loading: function () {
          // 所有字体开始加载
          // console.log('font loading');
        },
        active: function () {
          // 所有字体已渲染
          fontLoaded()
        },
        inactive: function () {
          // 字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout')
          fontLoaded()
        },
        timeout: 5000, // Set the timeout to two seconds
      })
    }
  }

  function asyncErr() {
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document,
      t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0]
    o.src = u
    if (cb) {
      o.addEventListener(
        'load',
        function (e) {
          cb(null, e)
        },
        false
      )
    }
    if (err) {
      o.addEventListener(
        'error',
        function (e) {
          err(null, e)
        },
        false
      )
    }
    s.parentNode.insertBefore(o, s)
  }

  var asyncLoadWithFallBack = function (arr, success, reject) {
    var currReject = function () {
      reject()
      arr.shift()
      if (arr.length) async(arr[0], success, currReject)
    }

    async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack(
    [
      'https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js',
      'https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js',
      "/hexo/lib/webfontloader.min.js",
    ],
    asyncCb,
    asyncErr
  )
</script>

            <img class="loading" src="/hexo/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
            <div class="container container-unloaded">
                <main class="main post-page">
    <article class="article-entry">
        <p>Kubernetes, also known as K8s, is an open-source system for automating deployment, scaling, and management of containerized applications. It groups containers that make up an application into logical units for easy management and discovery. Originally designed by Google, the project is now maintained by a worldwide community of contributors, with the trademark held by the Cloud Native Computing Foundation. Kubernetes assembles one or more computers, either virtual machines or bare metal, into a cluster that can run workloads in containers. It works with various container runtimes, such as containerd and CRI-O. Its suitability for running and managing workloads of all sizes and styles has led to widespread adoption in clouds and data centers. Kubernetes is widely deployed across companies including Google, Microsoft, Amazon, Apple, Meta, Nvidia, Reddit, Pinterest, and thousands of other companies.</p>
<span id="more"></span>

<h1 id="Kubernetes"><a href="#Kubernetes" class="headerlink" title="Kubernetes"></a>Kubernetes</h1><p>runs on top of Docker as a set of APIs in containers</p>
<p><code>kubectl</code> command</p>
<h2 id="Kubernetes-vs-swarm"><a href="#Kubernetes-vs-swarm" class="headerlink" title="Kubernetes vs swarm"></a>Kubernetes vs swarm</h2><p>both container orchestrators</p>
<p>both are solid platforms with vendor backing</p>
<p>Swarm: easier to deploy&#x2F;manage</p>
<p>Kubernetes: more features and flexibility </p>
<h3 id="Advantage-of-swarm"><a href="#Advantage-of-swarm" class="headerlink" title="Advantage of swarm"></a>Advantage of swarm</h3><ul>
<li>come with docker,single vendor container platform</li>
<li>Easier orchestrator to deploy&#x2F;mange </li>
<li>follow 80&#x2F;20 rule 20% of features for 80% of use cases</li>
<li>run anywhere docker does</li>
<li>secure by defalult</li>
<li>easier to troubleshoot</li>
</ul>
<h3 id="Advantages-of-Kubernetes"><a href="#Advantages-of-Kubernetes" class="headerlink" title="Advantages of Kubernetes"></a>Advantages of Kubernetes</h3><ul>
<li>clouds will deploy&#x2F;manage Kubernetes for you</li>
<li>Infrastructure vendors are making their own distribution </li>
<li>widest adoption and community</li>
<li>Flexible: covers widest set of use cases</li>
<li>kubernetes first vendor support. (Jenkins)</li>
</ul>
<h2 id="Kubernetes-Container-Abstractions"><a href="#Kubernetes-Container-Abstractions" class="headerlink" title="Kubernetes Container Abstractions"></a>Kubernetes Container Abstractions</h2><p><strong>Pod</strong>:  one or more containers running together on one Node </p>
<ul>
<li>basic unit of deployment. Containers are always in pods</li>
</ul>
<p><strong>Controller</strong>: For creating&#x2F;updating pods and other objects</p>
<ul>
<li>many types of controllers inc. <strong>Deployment, replicates, statefulset, daemonSet, Job, Crontab</strong>, etc</li>
</ul>
<p><strong>Service</strong>: network endpoint to connect to a pod</p>
<p><strong>Namespace</strong>: Filtered group of object in cluster</p>
<p>secrets, configMaps, and more </p>
<p>With Docker Desktop, I use <code>kubectl.docker</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">kubectl run</span><br><span class="line"></span><br><span class="line">kubectl create</span><br><span class="line"></span><br><span class="line">kubectl apply -f xxx.yaml</span><br><span class="line"></span><br><span class="line"><span class="comment"># create a pod with kubectl</span></span><br><span class="line"></span><br><span class="line">kubectl run my-nginx --image nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># It create pods, service</span></span><br><span class="line"></span><br><span class="line">Kubectl get pods</span><br><span class="line"></span><br><span class="line">kubectl get all</span><br><span class="line"></span><br><span class="line">kubectl create deployment my-nginx --iamge nginx </span><br><span class="line"></span><br><span class="line"><span class="comment"># It create replicaset, pods, service and deployment</span></span><br><span class="line"></span><br><span class="line">Deployment -&gt; ReplicaSet -&gt; Pods</span><br></pre></td></tr></table></figure>



<h3 id="Scaling-ReplicaSets"><a href="#Scaling-ReplicaSets" class="headerlink" title="Scaling ReplicaSets"></a>Scaling ReplicaSets</h3><p>start a new deployment for one replica&#x2F;pod</p>
<p>Kubectl create deployment my-apache –iamge httpd</p>
<p>Check our resource status</p>
<p>kubetl get all</p>
<p>Let”s scale it up with another pod</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl scale deploy/my-apache --replicas 2</span><br><span class="line"></span><br><span class="line">kubelctl scale deploy my-apache --replicas 2</span><br></pre></td></tr></table></figure>



<h2 id="Inspect-Kubernetes-Resources"><a href="#Inspect-Kubernetes-Resources" class="headerlink" title="Inspect Kubernetes Resources"></a>Inspect Kubernetes Resources</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">kubectl get deploy/my-apache</span><br><span class="line"></span><br><span class="line">kubectl get all -o wide </span><br><span class="line"></span><br><span class="line">kubectl get all -o yaml</span><br><span class="line"></span><br><span class="line">get has a weakness: It can only show one resource at a time</span><br><span class="line"></span><br><span class="line">kubectl describe deploy xxx</span><br><span class="line"></span><br><span class="line">kubectl descirbe pod xxx</span><br><span class="line"></span><br><span class="line">kubectl get nodes</span><br><span class="line"></span><br><span class="line">kubectl get node xxx -o wide</span><br><span class="line"></span><br><span class="line">kubectl describe node xxx</span><br><span class="line"></span><br><span class="line">Watch kubectl get pods</span><br><span class="line"></span><br><span class="line">kubectl get pods -w</span><br><span class="line"></span><br><span class="line">kubectl get events --watch-only</span><br><span class="line"></span><br><span class="line">kubectl logs deploy xxx</span><br><span class="line"></span><br><span class="line">Follow new <span class="built_in">log</span> entries, and start with the latest <span class="built_in">log</span> line</span><br><span class="line"></span><br><span class="line">kubectl logs deploy xxx --follow --<span class="built_in">tail</span> 1</span><br><span class="line"></span><br><span class="line">kubectl logs pod xxx -c xxx</span><br><span class="line"></span><br><span class="line">kubectl logs pod xxx --all-containers=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line">kubectl logs -l app=xxx</span><br></pre></td></tr></table></figure>



<h2 id="Expose-Kubernetes-Ports"><a href="#Expose-Kubernetes-Ports" class="headerlink" title="Expose Kubernetes Ports"></a>Expose Kubernetes Ports</h2><p>kubectl expose create a service for existing pods</p>
<p>A service is a stable address for pods</p>
<p>CoreDNS allows us to resolve services by name</p>
<p>Basic service type</p>
<ul>
<li><strong>Cluster IP</strong><ul>
<li>single, internal virtual IP allocated</li>
<li>only reachable from within cluster</li>
<li>pods can reach service on apps port number</li>
</ul>
</li>
<li><strong>nodePort</strong><ul>
<li>high port allocated on each node</li>
<li>port is open on every node’s IP</li>
<li>anyone can connect</li>
<li>Other pods need to be updated to this port</li>
</ul>
</li>
<li><strong>LoadBalancer</strong><ul>
<li>Control a LB endpoint external to the cluster</li>
<li>only available when infra provider gives you a LB</li>
<li>create nodePort + Cluser IP services, tell LB to send to NordPort</li>
</ul>
</li>
<li><strong>ExternalName</strong><ul>
<li>add CNAME DNS record to CoreDNS only</li>
<li>Not used for pods, but for giving pods a DNS name to user for something outside Kubernetes</li>
</ul>
</li>
</ul>
<h3 id="Create-ClusterIP-Service"><a href="#Create-ClusterIP-Service" class="headerlink" title="Create ClusterIP Service"></a>Create ClusterIP Service</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">kubectl get pods -w</span><br><span class="line"></span><br><span class="line">kubectl create deployment httpenv --image+bretfisher/httpenv</span><br><span class="line"></span><br><span class="line">Kubectl scale deplyment/httpenv --replicas 5</span><br><span class="line"></span><br><span class="line">kubectl expose deployment/httpenv --port 8888</span><br><span class="line"></span><br><span class="line">kubectl get service</span><br><span class="line"></span><br><span class="line">kubectl run tmp-shell --<span class="built_in">rm</span> -it --image bretfisher/netshoot -- bash  </span><br><span class="line"></span><br><span class="line">run curl httpenv:8888</span><br></pre></td></tr></table></figure>

<p> <code>-i</code> is short for <code>--stdin=true</code> and keeps the input connection open between your shell and the container (so we can type multiple commands like curl without having to start a new container.) <code>-t</code> is short for <code>--tty=true</code> and allocates a virtual terminal for us to use in the container (which we run a bash shell in that tty). We often use these two options together when we want a shell inside a container</p>
<h3 id="create-a-NodePort-Service"><a href="#create-a-NodePort-Service" class="headerlink" title="create a NodePort Service"></a>create a NodePort Service</h3><p>access via HostIP</p>
<p>kubectl expose development&#x2F;httpenv –port 8888 –name httpenv-np –type NodePort</p>
<p>Automatically port range: 30000-32767</p>
<p>Those three service types are additive</p>
<ul>
<li>ClusterIP</li>
<li>NodePort</li>
<li>LoadBalancer</li>
</ul>
<p>curl localhost:xxx</p>
<h3 id="Add-a-LoadBalancer-Service"><a href="#Add-a-LoadBalancer-Service" class="headerlink" title="Add a LoadBalancer Service"></a>Add a LoadBalancer Service</h3><p>kubectl expose deployment&#x2F;httpenv –port 8888 –name httpenv-lb –type LoadBalancer</p>
<p>curl localhost:8888</p>
<p>kubectl delete service&#x2F;httpenv service&#x2F;httpenv-np</p>
<p>kubectl delete service&#x2F;httpenv-lb deployment&#x2F;httpenv</p>
<h2 id="Kubernetes-Management-Technique"><a href="#Kubernetes-Management-Technique" class="headerlink" title="Kubernetes Management Technique"></a>Kubernetes Management Technique</h2><p>Resource Generators</p>
<p>Every resrouce in Kubernetes has a specification or “spec”</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">kubectl crrreate deployment sample --image nginx --dry-run=client -o yaml</span><br><span class="line">kubectl create job <span class="built_in">test</span> --image nginx --dry-run=client -o yaml</span><br><span class="line">kubectl expose deployment/test --port 80 --dry-run=client -o yaml</span><br></pre></td></tr></table></figure>

<h3 id="Three-Management-Approaches"><a href="#Three-Management-Approaches" class="headerlink" title="Three Management Approaches"></a>Three Management Approaches</h3><ul>
<li>Imperative commands: run, expose, scale, edit, create, deployment<ul>
<li>best for dev&#x2F;learning&#x2F;personal projects</li>
<li>easy to learn, hardest to mange over time</li>
</ul>
</li>
<li>Imperative objects: create -f file.yml, replace -f file.yml, delete<ul>
<li>Good for prod of small environments, single file per command</li>
<li>Store your changes in git-based yaml file</li>
<li>hard to automate</li>
</ul>
</li>
<li>Declarative objects: apply -f file.yml or dir, diff<ul>
<li>best for prod, easier to automate</li>
<li>harder to understand</li>
</ul>
</li>
</ul>
<h2 id="Move-to-Declarative-Kubernetes-YAML"><a href="#Move-to-Declarative-Kubernetes-YAML" class="headerlink" title="Move to Declarative Kubernetes YAML"></a>Move to Declarative Kubernetes YAML</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f xx.yml</span><br><span class="line"></span><br><span class="line">kubel apply -f xxx/</span><br><span class="line"></span><br><span class="line">kubectl apply -f https://xxx.xxx/xxx.yml</span><br></pre></td></tr></table></figure>

<p>Kubernetes Configuration YAML</p>
<ul>
<li>Kubernetes configuration file (yaml or json</li>
<li>each file contains one or more manifests</li>
<li>each manifest describes an API object</li>
<li>Each manifest needs four parts<ul>
<li>apiVersion</li>
<li>kind</li>
<li>metadata</li>
<li>spec</li>
</ul>
</li>
</ul>
<p><code>kubectl api-resources</code> for kind</p>
<p><code>kubectl api-version </code>for apiVersion</p>
<h3 id="Build-your-Yaml-spec"><a href="#Build-your-Yaml-spec" class="headerlink" title="Build your Yaml spec"></a>Build your Yaml spec</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">kubectl explain services --recursive</span><br><span class="line">kubectl explain services.spec</span><br><span class="line">kubectl explain services.spec.type</span><br><span class="line">kubectl explain deployment.sepc.template.spec.volumes.nfs.server</span><br><span class="line"><span class="comment"># we can also use docs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># dry run</span></span><br><span class="line">kubectl apply -f xxx.yml --dry-run</span><br><span class="line">kubectl apply -f xxx.yml --server-dry-run (unchanged or changed)</span><br><span class="line"></span><br><span class="line"><span class="comment"># see a diff</span></span><br><span class="line">kubectl diff -f xxx.yml</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Labels-and-annotations"><a href="#Labels-and-annotations" class="headerlink" title="Labels and annotations"></a>Labels and annotations</h3><p>labels goes under metadata: in your yaml</p>
<p>simepl list of key:value for identifying your resource later by selecting, grouping or filtering for it</p>
<p>Not meant to hold complex, large, or nonidentifying info, which is what annotations are for</p>
<p>filter a get command<code>kubectl get pods -l app=nginx</code></p>
<p>apply only matching labels <code>kubectl apply -f xx.yml -l app=nginx</code></p>
<p>label Selectors</p>
<p>the glue telling services and deployments which pods are theirs</p>
<p>many resources use label selectors to link resource dependencies</p>
<h2 id="Storage-in-Kubernetes"><a href="#Storage-in-Kubernetes" class="headerlink" title="Storage in Kubernetes"></a>Storage in Kubernetes</h2><p>storage and stateful workloads are harder in all systems</p>
<p>containers make it both harder and easier than before</p>
<p><strong>StatefulSets</strong> is a new resource type, making pods more sticky</p>
<ul>
<li>Use db-as-a-service whenever you can</li>
</ul>
<p><strong>Volumes</strong> in Kubernetes</p>
<ul>
<li>tied to lifecycle of a pod</li>
<li>all containers in a single pod can share them</li>
</ul>
<p><strong>PersistentVolumes</strong></p>
<ul>
<li>created ar the cluster level, outlives a pod</li>
<li>seperates storage config from Pod using it</li>
<li>multiple pods can share them</li>
</ul>
<p>CSI plugins are the new way to connect to storage</p>
<h2 id="Ingress"><a href="#Ingress" class="headerlink" title="Ingress"></a>Ingress</h2><p>None of our Service types work are OSI layer 7 (HTTP)</p>
<p>Ingress Controllers do this with 3rd party proxies</p>
<h2 id="CRD’s-and-the-Operator-Pattern"><a href="#CRD’s-and-the-Operator-Pattern" class="headerlink" title="CRD’s and the Operator Pattern"></a>CRD’s and the Operator Pattern</h2><h2 id="Helm-for-Docker"><a href="#Helm-for-Docker" class="headerlink" title="Helm for Docker"></a>Helm for Docker</h2><h2 id="Automation-CI-CD"><a href="#Automation-CI-CD" class="headerlink" title="Automation. CI&#x2F;CD"></a>Automation. CI&#x2F;CD</h2><h2 id="Security"><a href="#Security" class="headerlink" title="Security"></a>Security</h2><p>In Dockerfile</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">RUN</span><span class="language-bash"> groupadd --gid 1000 node \</span></span><br><span class="line"><span class="language-bash">    &amp;&amp; useradd --uid 1000 node --shell /bin/bash --create-home node</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> <span class="built_in">mkdir</span> /app &amp;&amp; <span class="built_in">chown</span> -R node:node /app</span></span><br><span class="line">    </span><br><span class="line"><span class="keyword">USER</span> node</span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> --<span class="built_in">chown</span>=node:node . .</span></span><br></pre></td></tr></table></figure>

<p>Add Scanner in Dockerfile</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>





<h1 id="Kubeadm"><a href="#Kubeadm" class="headerlink" title="Kubeadm"></a>Kubeadm</h1><h2 id="kubeadm-init-error-CRI-v1-runtime-API-is-not-implemented"><a href="#kubeadm-init-error-CRI-v1-runtime-API-is-not-implemented" class="headerlink" title="kubeadm init error: CRI v1 runtime API is not implemented"></a>kubeadm init error: CRI v1 runtime API is not implemented</h2><p>[ERROR CRI]: container runtime <strong>is</strong> <strong>not</strong> running:</p>
<ol>
<li>Set up the Docker repository as described in <a href="https://forum.linuxfoundation.org/home/leaving?allowTrusted=1&target=https://docs.docker.com/engine/install/ubuntu/%23set-up-the-repository">https://docs.docker.com/engine/install/ubuntu/#set-up-the-repository</a></li>
<li>Remove the old containerd:<code>apt remove containerd</code></li>
<li>Update repository data and install the new containerd: <code>apt update</code>, <code>apt install containerd.io</code></li>
<li>Remove the installed default config file: <code>rm /etc/containerd/config.toml</code></li>
<li>Restart containerd: <code>systemctl restart containerd</code></li>
</ol>
<h2 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h2><p>apiServer: 所有服务访问统一入口</p>
<p>ControllerManager: 维持副本期望数目</p>
<p>Scheduler: 负责介绍任务，选择合适的节点进行分配任务</p>
<p>ETCD: 键值对数据库 储存K8S集群所有重要信息（持久化 ）</p>
<p>Kubelet：直接跟容器引擎交互实现容器的生命周期管理</p>
<p>Kube-proxy： 负责写入规则至Iptables，ipvs实现服务映射访问的</p>
<p>COREDNS：可以为集群中的SVC创建一个域名IP的对应关系解析</p>
<p>DASHBOARD：给K8S集群提供一个B&#x2F;S结构访问体系</p>
<p>Ingress Controller： 官方只能实现四层代理，Ingress可以实现七层代理</p>
<p>Federation： 提供一个可以跨集群中心多K8S统一管理功能</p>
<p>Prometheus：提供K8S集群的监控能力</p>
<p>ELK：提供K8S集群日志统一分析介入平台</p>

    </article>
    <!-- license -->
    
        <div class="license-wrapper">
            <p>Author：<a href="https://maplepoet.github.io/hexo">枳暮</a>
            <p>Link：<a href="https://maplepoet.github.io/hexo/2024/03/07/Kubernetes/">https://maplepoet.github.io/hexo/2024/03/07/Kubernetes/</a>
            <p>Publish date：<a href="https://maplepoet.github.io/hexo/2024/03/07/Kubernetes/">March 7th 2024, 2:38:58 pm</a>
            <p>Update date：<a href="https://maplepoet.github.io/hexo/2024/03/07/Kubernetes/">May 22nd 2024, 5:49:20 pm</a>
            <p>License：本文采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p>
        </div>
    
    <!-- paginator -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href="/hexo/2024/05/22/PostgreSQL/" title="PostgreSQL">
                    <div class="nextTitle">PostgreSQL</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href="/hexo/2024/03/07/Docker/" title="Docker">
                    <div class="prevTitle">Docker</div>
                </a>
            
        </li>
    </ul>
    <!-- comment -->
    
        <div class="post-comment">
            <!-- 来必力 City 版安装代码 -->


            

            

            

            <!-- utteranc评论 -->


            <!-- partial('_partial/comment/changyan') -->
            <!--PC版-->


            
            

            

        </div>
    
    <!-- timeliness note -->
    <!-- idea from: https://hexo.fluid-dev.com/posts/hexo-injector/#%E6%96%87%E7%AB%A0%E6%97%B6%E6%95%88%E6%80%A7%E6%8F%90%E7%A4%BA -->
    
    <!-- Mathjax -->
    
</main>

                <!-- profile -->
                
            </div>
            <footer class="footer footer-unloaded">
    <!-- social  -->
    
        <div class="social">
            
    
        
            
                <a href="mailto:aaronshan96@outlook.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    


        </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- website approve for Chinese user -->
    
    <!-- 不蒜子  -->
    
        <div class="busuanzi-container">
            
             
                <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
            
        </div>
    	
</footer>

        </div>
        <!-- toc -->
        
            <div class="toc-wrapper toc-wrapper-loding" style=







    top:50vh;

>
                <div class="toc-catalog">
                    <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
                </div>
                <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Kubernetes"><span class="toc-number">1.</span> <span class="toc-text">Kubernetes</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Kubernetes-vs-swarm"><span class="toc-number">1.1.</span> <span class="toc-text">Kubernetes vs swarm</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Advantage-of-swarm"><span class="toc-number">1.1.1.</span> <span class="toc-text">Advantage of swarm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Advantages-of-Kubernetes"><span class="toc-number">1.1.2.</span> <span class="toc-text">Advantages of Kubernetes</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kubernetes-Container-Abstractions"><span class="toc-number">1.2.</span> <span class="toc-text">Kubernetes Container Abstractions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Scaling-ReplicaSets"><span class="toc-number">1.2.1.</span> <span class="toc-text">Scaling ReplicaSets</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Inspect-Kubernetes-Resources"><span class="toc-number">1.3.</span> <span class="toc-text">Inspect Kubernetes Resources</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Expose-Kubernetes-Ports"><span class="toc-number">1.4.</span> <span class="toc-text">Expose Kubernetes Ports</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Create-ClusterIP-Service"><span class="toc-number">1.4.1.</span> <span class="toc-text">Create ClusterIP Service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#create-a-NodePort-Service"><span class="toc-number">1.4.2.</span> <span class="toc-text">create a NodePort Service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Add-a-LoadBalancer-Service"><span class="toc-number">1.4.3.</span> <span class="toc-text">Add a LoadBalancer Service</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kubernetes-Management-Technique"><span class="toc-number">1.5.</span> <span class="toc-text">Kubernetes Management Technique</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Three-Management-Approaches"><span class="toc-number">1.5.1.</span> <span class="toc-text">Three Management Approaches</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Move-to-Declarative-Kubernetes-YAML"><span class="toc-number">1.6.</span> <span class="toc-text">Move to Declarative Kubernetes YAML</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Build-your-Yaml-spec"><span class="toc-number">1.6.1.</span> <span class="toc-text">Build your Yaml spec</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Labels-and-annotations"><span class="toc-number">1.6.2.</span> <span class="toc-text">Labels and annotations</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Storage-in-Kubernetes"><span class="toc-number">1.7.</span> <span class="toc-text">Storage in Kubernetes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Ingress"><span class="toc-number">1.8.</span> <span class="toc-text">Ingress</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CRD%E2%80%99s-and-the-Operator-Pattern"><span class="toc-number">1.9.</span> <span class="toc-text">CRD’s and the Operator Pattern</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Helm-for-Docker"><span class="toc-number">1.10.</span> <span class="toc-text">Helm for Docker</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Automation-CI-CD"><span class="toc-number">1.11.</span> <span class="toc-text">Automation. CI&#x2F;CD</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Security"><span class="toc-number">1.12.</span> <span class="toc-text">Security</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Kubeadm"><span class="toc-number">2.</span> <span class="toc-text">Kubeadm</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#kubeadm-init-error-CRI-v1-runtime-API-is-not-implemented"><span class="toc-number">2.1.</span> <span class="toc-text">kubeadm init error: CRI v1 runtime API is not implemented</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9E%84"><span class="toc-number">2.2.</span> <span class="toc-text">结构</span></a></li></ol></li></ol>
            </div>
        
        <!-- sidebar -->
        <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
        <div class="sidebar-panel-archives">
    <!-- 在 ejs 中将 archive 按照时间排序 -->
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 11
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
        
            
            
            <div class="archive-year"> 2024 </div>
            <ul class="year-list">
            
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/22</span>
            <a class="archive-post-title" href="/hexo/2024/05/22/AWS-Solution-Architect/">AWS Solution Architect</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/22</span>
            <a class="archive-post-title" href="/hexo/2024/05/22/PostgreSQL/">PostgreSQL</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">05/22</span>
            <a class="archive-post-title" href="/hexo/2024/05/22/VueJS/">VueJS</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/07</span>
            <a class="archive-post-title" href="/hexo/2024/03/07/AWS/">AWS</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/07</span>
            <a class="archive-post-title" href="/hexo/2024/03/07/Ansible/">Ansible</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/07</span>
            <a class="archive-post-title" href="/hexo/2024/03/07/Docker/">Docker</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/07</span>
            <a class="archive-post-title" href="/hexo/2024/03/07/Kafka-Zookeeper/">Kafka Zookeeper</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/07</span>
            <a class="archive-post-title" href="/hexo/2024/03/07/Kubernetes/">Kubernetes</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/07</span>
            <a class="archive-post-title" href="/hexo/2024/03/07/Terraform/">Terraform</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/07</span>
            <a class="archive-post-title" href="/hexo/2024/03/07/WSL-usage/">WSL usage</a>
        </li>
    
        
        <li class="archive-post-item">
            <span class="archive-post-date">03/07</span>
            <a class="archive-post-title" href="/hexo/2024/03/07/hello-world/">Hello World</a>
        </li>
    
    </div>
</div>

        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
        
            <span class="sidebar-tag-name" data-tags="WSL">
                <span class="iconfont-archer">&#xe606;</span>
                WSL
            </span>
        
            <span class="sidebar-tag-name" data-tags="Linux">
                <span class="iconfont-archer">&#xe606;</span>
                Linux
            </span>
        
            <span class="sidebar-tag-name" data-tags="Windows">
                <span class="iconfont-archer">&#xe606;</span>
                Windows
            </span>
        
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
        缺失模块，请参考主题文档进行安装配置：https://github.com/fi3ework/hexo-theme-archer#%E5%AE%89%E8%A3%85%E4%B8%BB%E9%A2%98
    </div> 
    <div class="sidebar-tags-list"></div>
</div>

        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>

    </div>
</div>

        <!-- site-meta -->
        <script>
    var siteMetaRoot = "/hexo/"
    if (siteMetaRoot === "undefined") {
        siteMetaRoot = '/'
    }
    var siteMeta = {
        url: "https://maplepoet.github.io/hexo",
        root: siteMetaRoot,
        author: "枳暮"
    }
</script>

        <!-- import experimental options here -->
        <!-- Custom Font -->


        <!-- main func -->
        <script src="/hexo/scripts/main.js?v=20211217"></script>
        <!-- dark mode -->
        <script src="/hexo/scripts/dark.js?v=20211217"></script>
        <!-- fancybox -->
        <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js" defer></script>
        <!-- algolia -->
        
        <!-- busuanzi -->
        
            <script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>
        
        <!-- CNZZ -->
        
        <!-- async load share.js -->
        
            <script src="/hexo/scripts/share.js?v=20211217" async></script>
        
        <!-- mermaid -->
        
    </body>
</html>
